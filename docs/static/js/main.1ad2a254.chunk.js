(this["webpackJsonpultimate-tic-tac-toe"]=this["webpackJsonpultimate-tic-tac-toe"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,r,n){},function(e,r,n){},,function(e,r,n){},function(e,r,n){},function(e,r,n){},function(e,r,n){},function(e,r,n){"use strict";n.r(r);var t=n(1),a=n.n(t),s=n(8),c=n.n(s),i=n(9),o=n(3),u=(n(14),n(15),function(e){for(var r=e.reduce((function(e,r){return e.push("D"===r?null:r),e}),[]),n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=0;t<n.length;t++){var a=Object(o.a)(n[t],3),s=a[0],c=a[1],i=a[2];if(r[s]&&r[s]===r[c]&&r[s]===r[i])return r[s]}return null}),d=n(2),b=n(0),l=a.a.createContext(),j={boards:Array(9).fill({squares:Array(9).fill(null),winner:null}),availableMoves:Array(9).fill(Array(9).fill(null)),winner:null,stepNumber:0,xIsNext:!0,lastMove:null,endGame:!1},f=function(e,r){var n;switch(r.type){case"RESTART":return j;case"SET_SUPER_WINNER":return Object(d.a)(Object(d.a)({},e),{},{winner:r.winner});case"SET_DRAW":return Object(d.a)(Object(d.a)({},e),{},{boards:e.boards.map((function(e,n){return n!==r.boardId?e:Object(d.a)(Object(d.a)({},e),{},{winner:"D"})}))});case"SET_WINNER":return Object(d.a)(Object(d.a)({},e),{},{boards:e.boards.map((function(n,t){return t!==r.boardId?n:Object(d.a)(Object(d.a)({},n),{},{winner:e.xIsNext?"O":"X"})}))});case"SET_AVAILABLE_MOVES":var t=e.boards.map((function(e,r){return null!==e.winner?null:e.squares.map((function(e,n){return null!==e?null:[r,n]}))})).flat(),a=t.filter(Boolean).length<1||(null===(n=e.winners)||void 0===n?void 0:n.filter(Boolean).length)>7||e.boards.map((function(e){return e.squares.filter(Boolean).length>7})).filter(Boolean).length>7;return Object(d.a)(Object(d.a)({},e),{},{availableMoves:t,endGame:a});case"UPDATE_TURN":return Object(d.a)(Object(d.a)({},e),{},{boards:e.boards.map((function(n,t){return t!==r.boardId?n:Object(d.a)(Object(d.a)({},n),{},{squares:n.squares.map((function(n,t){return t!==r.squareId?n:e.xIsNext?"X":"O"}))})})),lastMove:[r.boardId,r.squareId],stepNumber:e.stepNumber+1,xIsNext:!e.xIsNext});default:return e}},O=function(e){var r=e.children,n=Object(t.useReducer)(f,j),a=Object(o.a)(n,2),s=a[0],c=a[1],i=Object(t.useMemo)((function(){return{state:s,dispatch:c}}),[s,c]);return Object(b.jsx)(l.Provider,{value:i,children:r})},h=function(e){var r=Object(t.useContext)(l),n=r.state,a=n.boards,s=n.stepNumber,c=n.xIsNext,i=n.winner,o=n.endGame,d=n.availableMoves,b=n.lastMove,j=r.dispatch,f=a.map((function(e){return e.winner}));return{boards:a,stepNumber:s,xIsNext:c,winner:i,endGame:o,board:a[e],availableMoves:d,lastMove:b,checkAvailableMoves:function(){return j({type:"SET_AVAILABLE_MOVES"})},restart:function(){return j({type:"RESTART"})},updateTurn:function(e,r){return j({type:"UPDATE_TURN",squareId:r,boardId:e})},setWinner:function(){return j({type:"SET_WINNER",boardId:e})},setDraw:function(){return j({type:"SET_DRAW",boardId:e})},setSuperWinner:function(){return j({type:"SET_SUPER_WINNER",winner:u(f)})}}},x=function(e){var r=e.squareId,n=e.boardId,t=h(n),a=t.board,s=t.updateTurn;return Object(b.jsx)("button",{className:"square",onClick:function(){u(a.squares)||a.squares[r]||s(n,r)},children:a.squares[r]})},v=(n(17),n(6)),p=n.n(v),m=(n(18),function(e){var r=e.winner,n=e.superWinner,t="X"===r?"https://contmoura.com.br/wp-content/uploads/2019/09/x-png-icon-8.png":"https://i.imgur.com/rCwsdBw.png";return Object(b.jsx)("div",{className:p()("image-wrapper",{super:n}),children:Object(b.jsx)("img",{width:"100%",height:"100%",className:"image",src:t,alt:r})})}),I=function(e){var r=e.hasBorder,n=void 0!==r&&r,a=e.boardId,s=h(a),c=s.board,i=s.setWinner,o=s.setDraw,d=u(c.squares);return Object(t.useEffect)((function(){d?i():c.length>8&&o()}),[d]),Object(b.jsxs)("div",{className:"board-wrapper",children:[d&&Object(b.jsx)(m,{winner:d}),Object(b.jsxs)("div",{className:"board-row",children:[Object(b.jsx)(x,{squareId:0,boardId:a}),Object(b.jsx)(x,{squareId:1,boardId:a}),Object(b.jsx)(x,{squareId:2,boardId:a})]}),Object(b.jsxs)("div",{className:"board-row",children:[Object(b.jsx)(x,{squareId:3,boardId:a}),Object(b.jsx)(x,{squareId:4,boardId:a}),Object(b.jsx)(x,{squareId:5,boardId:a})]}),Object(b.jsxs)("div",{className:p()("board-row",{"board-border":n}),children:[Object(b.jsx)(x,{squareId:6,boardId:a}),Object(b.jsx)(x,{squareId:7,boardId:a}),Object(b.jsx)(x,{squareId:8,boardId:a})]})]})},N=(n(19),function(){var e=h(),r=e.boards,n=e.winner,a=e.setSuperWinner;return Object(t.useEffect)((function(){a()}),[r]),Object(b.jsxs)("div",{className:"super-board-wrapper",children:[n&&Object(b.jsx)(m,{winner:n,superWinner:!0}),Object(b.jsxs)("div",{className:"board-border-right",children:[Object(b.jsx)(I,{hasBorder:!0,boardId:0}),Object(b.jsx)(I,{hasBorder:!0,boardId:1}),Object(b.jsx)(I,{boardId:2})]}),Object(b.jsxs)("div",{className:"board-border-right",children:[Object(b.jsx)(I,{hasBorder:!0,boardId:3}),Object(b.jsx)(I,{hasBorder:!0,boardId:4}),Object(b.jsx)(I,{boardId:5})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(I,{hasBorder:!0,boardId:6}),Object(b.jsx)(I,{hasBorder:!0,boardId:7}),Object(b.jsx)(I,{boardId:8})]})]})});n(20);var w=function(){return Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsxs)("h1",{className:"title",children:[Object(b.jsx)("span",{children:"Ultimate"}),Object(b.jsx)("span",{children:"Ultimate"})]}),Object(b.jsx)("h2",{className:"subtitle",children:"Tic Tac Toe"})]})},g=function(){var e=h(),r=e.restart,n=e.boards,a=e.winner,s=e.endGame,c=e.stepNumber,d=e.xIsNext,l=e.lastMove,j=e.checkAvailableMoves,f=e.updateTurn,O=function e(r){var n=Math.floor(Math.random()*(r.length+1));return null!==r[n]?e(r):n},x=function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,t=r.filter((function(e){return!e})).length>0,a=u(r);if(t&&!a){var s=r.map((function(e){return"X"===e?1:"O"===e?0:e})),c=s.reduce((function(e,r){return 1===r?e++:0===r&&e--,e}))?"O":"X",i=O(r);return r[i]=c,e(r,n=-1===n?i:-1)}return[a,n]},v=function(e,r,n){return"O"===n?e.forEach((function(e,n){"O"===e&&(r[n]+=1),"X"===e&&(r[n]-=1)})):"X"===n&&e.forEach((function(e,n){"O"===e&&(r[n]-=1),"X"===e&&(r[n]+=1)})),r},p=function(e,r){for(var n=Array(9).fill(0),t=0;t<r;t++){var a=e.slice(),s=x(a),c=Object(o.a)(s,1)[0];n=v(a,n,c)}return n},m=function(e,r,n){var t=n.slice();return t.forEach((function(n,a){return a in e?r[a]?t[a]=-1:void 0:t[a]=-1})),t.indexOf(Math.max.apply(Math,Object(i.a)(t)))};return Object(t.useEffect)((function(){j(),!d&&c>0&&function(){var e=Object(o.a)(l,1)[0],r=n[e].squares.filter((function(e){return!e})).length>0,t=u(n[e].squares);if(t||!r){var a=n.map((function(r,n){var a=null;if(n===e&&t)return t;if(r.winner)return r.winner;var s=r.squares.filter(Boolean).length>7;return null===r.winner&&s&&(a=-1),a})).slice(),s=p(a,20),c=a.map((function(e,r){if(e)return r}));e=m(c,a,s)}var i=n[e].squares.slice(),d=p(i,20),b=i.map((function(e,r){if(e)return r})),j=m(b,i,d);f(e,j)}()}),[d]),Object(b.jsxs)("div",{className:"game",children:[Object(b.jsx)(w,{}),Object(b.jsxs)("div",{children:[Object(b.jsx)(N,{}),a?Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Ganhador: ",a]}),Object(b.jsx)("button",{className:"historyButton",onClick:function(){return r()},children:"V\xe1 para o in\xedcio do jogo"})]}):s&&Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Deu velha!"}),Object(b.jsx)("button",{className:"historyButton",onClick:function(){return r()},children:"V\xe1 para o in\xedcio do jogo"})]})]})]})};var E=function(){return Object(b.jsx)(O,{children:Object(b.jsx)(g,{})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(r){var n=r.getCLS,t=r.getFID,a=r.getFCP,s=r.getLCP,c=r.getTTFB;n(e),t(e),a(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root")),q()}],[[21,1,2]]]);
//# sourceMappingURL=main.1ad2a254.chunk.js.map