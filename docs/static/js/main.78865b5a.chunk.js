(this["webpackJsonpultimate-tic-tac-toe"]=this["webpackJsonpultimate-tic-tac-toe"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,r,t){},function(e,r,t){},,function(e,r,t){},function(e,r,t){},function(e,r,t){},function(e,r,t){"use strict";t.r(r);var n=t(1),a=t.n(n),s=t(8),c=t.n(s),o=t(9),i=t(3),u=(t(14),t.p+"static/media/title.726388aa.png"),d=t.p+"static/media/logo.24944eed.png",b=(t(15),function(e){for(var r=e.reduce((function(e,r){return e.push("D"===r?null:r),e}),[]),t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(i.a)(t[n],3),s=a[0],c=a[1],o=a[2];if(r[s]&&r[s]===r[c]&&r[s]===r[o])return r[s]}return null}),l=t(2),j=t(0),f=a.a.createContext(),O={boards:Array(9).fill({squares:Array(9).fill(null),winner:null}),availableMoves:Array(9).fill(Array(9).fill(null)),winner:null,stepNumber:0,xIsNext:!0,lastMove:null,endGame:!1},h=function(e,r){var t;switch(r.type){case"RESTART":return O;case"SET_SUPER_WINNER":return Object(l.a)(Object(l.a)({},e),{},{winner:r.winner});case"SET_DRAW":return Object(l.a)(Object(l.a)({},e),{},{boards:e.boards.map((function(e,t){return t!==r.boardId?e:Object(l.a)(Object(l.a)({},e),{},{winner:"D"})}))});case"SET_WINNER":return Object(l.a)(Object(l.a)({},e),{},{boards:e.boards.map((function(t,n){return n!==r.boardId?t:Object(l.a)(Object(l.a)({},t),{},{winner:e.xIsNext?"O":"X"})}))});case"SET_AVAILABLE_MOVES":var n=e.boards.map((function(e,r){return null!==e.winner?null:e.squares.map((function(e,t){return null!==e?null:[r,t]}))})).flat(),a=(null===(t=e.winners)||void 0===t?void 0:t.filter(Boolean).length)>7||e.boards.map((function(e){return e.squares.filter(Boolean).length>7})).filter(Boolean).length>7;return Object(l.a)(Object(l.a)({},e),{},{availableMoves:n,endGame:a});case"UPDATE_TURN":return Object(l.a)(Object(l.a)({},e),{},{boards:e.boards.map((function(t,n){return n!==r.boardId?t:Object(l.a)(Object(l.a)({},t),{},{squares:t.squares.map((function(t,n){return n!==r.squareId?t:e.xIsNext?"X":"O"}))})})),lastMove:[r.boardId,r.squareId],stepNumber:e.stepNumber+1,xIsNext:!e.xIsNext});default:return e}},x=function(e){var r=e.children,t=Object(n.useReducer)(h,O),a=Object(i.a)(t,2),s=a[0],c=a[1],o=Object(n.useMemo)((function(){return{state:s,dispatch:c}}),[s,c]);return Object(j.jsx)(f.Provider,{value:o,children:r})},v=function(e){var r=Object(n.useContext)(f),t=r.state,a=t.boards,s=t.stepNumber,c=t.xIsNext,o=t.winner,i=t.endGame,u=t.availableMoves,d=t.lastMove,l=r.dispatch,j=a.map((function(e){return e.winner}));return{boards:a,stepNumber:s,xIsNext:c,winner:o,endGame:i,board:a[e],availableMoves:u,lastMove:d,checkAvailableMoves:function(){return l({type:"SET_AVAILABLE_MOVES"})},restart:function(){return l({type:"RESTART"})},updateTurn:function(e,r){return l({type:"UPDATE_TURN",squareId:r,boardId:e})},setWinner:function(){return l({type:"SET_WINNER",boardId:e})},setDraw:function(){return l({type:"SET_DRAW",boardId:e})},setSuperWinner:function(){return l({type:"SET_SUPER_WINNER",winner:b(j)})}}},p=function(e){var r=e.squareId,t=e.boardId,n=v(t),a=n.board,s=n.updateTurn;return Object(j.jsx)("button",{className:"square",onClick:function(){b(a.squares)||a.squares[r]||s(t,r)},children:a.squares[r]})},m=(t(17),t(6)),I=t.n(m),g=(t(18),function(e){var r=e.winner,t=e.superWinner,n="X"===r?"https://contmoura.com.br/wp-content/uploads/2019/09/x-png-icon-8.png":"https://i.imgur.com/rCwsdBw.png";return Object(j.jsx)("div",{className:I()("image-wrapper",{super:t}),children:Object(j.jsx)("img",{width:"100%",height:"100%",className:"image",src:n,alt:r})})}),N=function(e){var r=e.hasBorder,t=void 0!==r&&r,a=e.boardId,s=v(a),c=s.board,o=s.setWinner,i=s.setDraw,u=b(c.squares);return Object(n.useEffect)((function(){u?o():c.length>8&&i()}),[u]),Object(j.jsxs)("div",{className:"board-wrapper",children:[u&&Object(j.jsx)(g,{winner:u}),Object(j.jsxs)("div",{className:"board-row",children:[Object(j.jsx)(p,{squareId:0,boardId:a}),Object(j.jsx)(p,{squareId:1,boardId:a}),Object(j.jsx)(p,{squareId:2,boardId:a})]}),Object(j.jsxs)("div",{className:"board-row",children:[Object(j.jsx)(p,{squareId:3,boardId:a}),Object(j.jsx)(p,{squareId:4,boardId:a}),Object(j.jsx)(p,{squareId:5,boardId:a})]}),Object(j.jsxs)("div",{className:I()("board-row",{"board-border":t}),children:[Object(j.jsx)(p,{squareId:6,boardId:a}),Object(j.jsx)(p,{squareId:7,boardId:a}),Object(j.jsx)(p,{squareId:8,boardId:a})]})]})},w=(t(19),function(){var e=v(),r=e.boards,t=e.winner,a=e.setSuperWinner;return Object(n.useEffect)((function(){a()}),[r]),Object(j.jsxs)("div",{className:"super-board-wrapper",children:[t&&Object(j.jsx)(g,{winner:t,superWinner:!0}),Object(j.jsxs)("div",{className:"board-border-right",children:[Object(j.jsx)(N,{hasBorder:!0,boardId:0}),Object(j.jsx)(N,{hasBorder:!0,boardId:1}),Object(j.jsx)(N,{boardId:2})]}),Object(j.jsxs)("div",{className:"board-border-right",children:[Object(j.jsx)(N,{hasBorder:!0,boardId:3}),Object(j.jsx)(N,{hasBorder:!0,boardId:4}),Object(j.jsx)(N,{boardId:5})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(N,{hasBorder:!0,boardId:6}),Object(j.jsx)(N,{hasBorder:!0,boardId:7}),Object(j.jsx)(N,{boardId:8})]})]})}),E=function(){var e=v(),r=e.restart,t=e.boards,a=e.winner,s=e.endGame,c=e.stepNumber,l=e.xIsNext,f=e.lastMove,O=e.checkAvailableMoves,h=e.updateTurn,x=function e(r){var t=Math.floor(Math.random()*(r.length+1));return null!==r[t]?e(r):t},p=function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=r.filter((function(e){return!e})).length>0,a=b(r);if(n&&!a){var s=r.map((function(e){return"X"===e?1:"O"===e?0:e})),c=s.reduce((function(e,r){return 1===r?e++:0===r&&e--,e}))?"O":"X",o=x(r);return r[o]=c,e(r,t=-1===t?o:-1)}return[a,t]},m=function(e,r,t){return"O"===t?e.forEach((function(e,t){"O"===e&&(r[t]+=1),"X"===e&&(r[t]-=1)})):"X"===t&&e.forEach((function(e,t){"O"===e&&(r[t]-=1),"X"===e&&(r[t]+=1)})),r},I=function(e,r){for(var t=Array(9).fill(0),n=0;n<r;n++){var a=e.slice(),s=p(a),c=Object(i.a)(s,1)[0];t=m(a,t,c)}return t},g=function(e,r,t){var n=t.slice();return n.forEach((function(t,a){return a in e?r[a]?n[a]=-1:void 0:n[a]=-1})),n.indexOf(Math.max.apply(Math,Object(o.a)(n)))};return Object(n.useEffect)((function(){O(),!l&&c>0&&function(){var e=Object(i.a)(f,1)[0],r=t[e].squares.filter((function(e){return!e})).length>0,n=b(t[e].squares);if(n||!r){var a=t.map((function(r,t){var a=null;if(t===e&&n)return n;if(r.winner)return r.winner;var s=r.squares.filter(Boolean).length>7;return null===r.winner&&s&&(a=-1),a})).slice(),s=I(a,20),c=a.map((function(e,r){if(e)return r}));e=g(c,a,s)}var o=t[e].squares.slice(),u=I(o,20),d=o.map((function(e,r){if(e)return r})),l=g(d,o,u);h(e,l)}()}),[l]),Object(j.jsxs)("div",{className:"game",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{id:"imgjogo",src:d,alt:"Jogo da velha"}),Object(j.jsx)("img",{width:"100%",className:"image-title",src:u,alt:"Jogo da velha"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(w,{}),a?Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:["Ganhador: ",a]}),Object(j.jsx)("button",{className:"historyButton",onClick:function(){return r()},children:"V\xe1 para o in\xedcio do jogo"})]}):s&&Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Deu velha!"}),Object(j.jsx)("button",{className:"historyButton",onClick:function(){return r()},children:"V\xe1 para o in\xedcio do jogo"})]})]})]})};var q=function(){return Object(j.jsx)(x,{children:Object(j.jsx)(E,{})})},T=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(r){var t=r.getCLS,n=r.getFID,a=r.getFCP,s=r.getLCP,c=r.getTTFB;t(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(q,{})}),document.getElementById("root")),T()}],[[20,1,2]]]);
//# sourceMappingURL=main.78865b5a.chunk.js.map